let responses=["Цікаво!","Розкажи більше.","А чому ти так думаєш?","Я не впевнений, що розумію.","Можливо!","Добре, але давай поговоримо про щось інше."],chatbot={responses:responses,isActive:!0,interval:null,timeouts:[],turnOffChancePercent:1,stopPhrase:"My watch has ended",form:document.getElementById("input"),chat:document.getElementById("chat"),init(){this.form.addEventListener("submit",t=>this.handleSubmit(t)),this.startBotChecker()},startBotChecker(){this.interval=setInterval(()=>{Math.random()<this.turnOffChancePercent/100&&this.turnOff("Браузер втомився і завершив діалог.")},1e3)},turnOff(t){clearInterval(this.interval),this.timeouts.forEach(t=>clearTimeout(t)),this.isActive=!1,this.appendMessage(t,"bot")},botReply(){let e=setTimeout(()=>{var t=this.timeouts;this.appendMessage(this.getRandomResponse(),"bot"),t.splice(t.indexOf(e),1)},this.getRandomDelay());this.timeouts.push(e)},handleSubmit(t){t.preventDefault(),this.isActive?(t=new FormData(t.target).get("text").trim(),this.form.reset(),t&&(this.appendMessage(t,"user"),t===this.stopPhrase?this.turnOff("До зустрічі! Браузер пішов спати."):this.botReply())):alert("Чат завершено!")},appendMessage(t,e="bot"){var s=document.createElement("p"),a=new Date,n=a.getHours().toString().padStart(2,"0"),r=a.getMinutes().toString().padStart(2,"0"),a=a.getSeconds().toString().padStart(2,"0");s.textContent=`[${n}:${r}:${a}] `+t,s.className=e,this.chat.appendChild(s),this.chat.scrollTop=this.chat.scrollHeight},getRandomResponse(){return responses[Math.floor(Math.random()*responses.length)]},getRandomDelay(){return Math.floor(9e3*Math.random())+1e3}};chatbot.init();